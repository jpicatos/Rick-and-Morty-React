(this["webpackJsonptest-frontend-hv"]=this["webpackJsonptest-frontend-hv"]||[]).push([[0],{21:function(e,a,t){e.exports={ellipsis:"PaginatedCharacterGrid_ellipsis__26OcO",paginator:"PaginatedCharacterGrid_paginator__2aQNy",characters:"PaginatedCharacterGrid_characters__1ArBJ"}},23:function(e,a,t){e.exports={App:"App_App__15LM-"}},24:function(e,a,t){e.exports={ellipsis:"HeaderMenu_ellipsis__8Kdjz",menu:"HeaderMenu_menu__tAUXR",active:"HeaderMenu_active__2Jvyr"}},26:function(e,a,t){e.exports={logo:"ReactAnimatedLogo_logo__3QFYv","logo-spin":"ReactAnimatedLogo_logo-spin__QxTN4"}},27:function(e,a,t){e.exports={content:"Home_content__OGPl9"}},29:function(e,a,t){e.exports={ellipsis:"PaginationManager_ellipsis__23IkY",pagination:"PaginationManager_pagination__1srVm",disabled:"PaginationManager_disabled__3Nj4d"}},35:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),s=t(22),r=t.n(s),i=(t(35),t(23)),o=t.n(i),l=t(8),d=t(3),p=t(24),j=t.n(p),u=t(1),g=function(e){var a=e.activePage,t=e.lastCharactersPage;return Object(u.jsxs)("header",{className:j.a.menu,"data-testid":"menu",children:[Object(u.jsx)(l.b,{to:"/",className:a?"":"active",children:"Home"}),Object(u.jsx)(l.b,{to:t&&t>1?"/characters?page=".concat(t):"/characters",className:"characters"===a?"active":"",children:"Characters"})]})},h=t.p+"static/media/logo.6ce24c58.svg",b=t(26),m=t.n(b),_=function(){return Object(u.jsx)("img",{src:h,className:m.a.logo,alt:"logo","data-testid":"logo"})},x=t(27),O=t.n(x),f=function(){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)("div",{className:O.a.content,children:Object(u.jsx)(_,{})})]})},v=t(11),C=t(18),N=t.n(C),P=t(28),w=t(30),L="https://rickandmortyapi.com/api/character",S="lastCharacters",k=function(){return JSON.parse(localStorage.getItem(S)||"{}")},A=function(e,a){return localStorage.setItem(S,JSON.stringify(Object(w.a)({characters:e},{pageNumber:a})))},F=function(e){var a=k(),t=a.response,n=a.pageNumber;return t&&n===e?new Promise((function(e,a){return e(t)})):fetch("".concat(L,"?page=").concat(e)).then((function(e){return e.json()})).then((function(a){return A(a,e),a}))},M=t(9),y=t.n(M),I=function(e){var a=e.character;return Object(u.jsxs)("div",{className:y.a.wrapper,onClick:function(){return console.log(a)},children:[Object(u.jsxs)("div",{className:y.a.header,children:[Object(u.jsx)("img",{src:a.image,alt:a.name}),Object(u.jsxs)("div",{className:"".concat(y.a["personal-info"]," ").concat(y.a.ellipsis),children:[Object(u.jsx)("span",{className:"".concat(y.a.name," ").concat(y.a.ellipsis),children:a.name}),Object(u.jsx)("a",{className:"".concat(y.a.location," ").concat(y.a.ellipsis),href:a.location.url,children:a.location.name})]})]}),Object(u.jsx)("img",{src:a.image,alt:a.name}),Object(u.jsx)("div",{className:y.a.tags,children:["status","species","type","gender"].map((function(e,t){var n=a[e];return"unknown"!==n&&""!==n?Object(u.jsx)("span",{"data-testid":"".concat(a.id,"-tag-").concat(e),children:"#".concat(n)},"".concat(a.id,"-tag-").concat(e)):null}))}),Object(u.jsxs)("span",{className:y.a.date,children:["CREATED ",new Date(a.created).toLocaleDateString()]})]})},E=t(29),H=t.n(E),J=t(20),D=t(19),G=function(e){var a=e.endpoint,t=e.pageNumber,n=e.prev,c=e.next,s=e.lastPage;return Object(u.jsxs)("div",{className:H.a.pagination,children:[Object(u.jsx)(l.b,{to:"".concat(a),className:n?"":"disabled","data-testid":"first-page",children:"First"}),Object(u.jsx)(l.b,{to:"".concat(a,"?page=").concat(t-1),className:n?"":"disabled","data-testid":"prev-page",children:Object(u.jsx)(D.a,{icon:J.a})}),Object(u.jsxs)("span",{children:["Page ",t]}),Object(u.jsx)(l.b,{to:"".concat(a,"?page=").concat(t+1),className:c?"":"disabled","data-testid":"next-page",children:Object(u.jsx)(D.a,{icon:J.b})}),Object(u.jsx)(l.b,{to:"".concat(a,"?page=").concat(s),className:c?"":"disabled","data-testid":"last-page",children:"Last"})]})},R=t(21),T=t.n(R),B=function(e){var a=e.setLastPage,t=Object(n.useState)([]),c=Object(v.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)({}),o=Object(v.a)(i,2),l=o[0],p=o[1],j=new URLSearchParams(Object(d.f)().search),g=parseInt("".concat(j.get("page")))||1;return Object(n.useEffect)((function(){(function(){var e=Object(P.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(g);case 2:t=e.sent,r(t.results),p(t.info),a(g);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[g]),Object(u.jsxs)("div",{className:T.a.paginator,"data-testid":"paginated-grid",children:[Object(u.jsx)(G,{endpoint:"/characters",pageNumber:g,prev:l.prev,next:l.next,lastPage:l.pages}),Object(u.jsx)("div",{className:T.a.characters,children:s.map((function(e){return Object(u.jsx)(I,{character:e,"data-testid":"character-".concat(e.id)},e.id)}))}),Object(u.jsx)(G,{endpoint:"/characters",pageNumber:g,prev:l.prev,next:l.next,lastPage:l.pages})]})},Q=function(){var e=Object(n.useState)(1),a=Object(v.a)(e,2),t=a[0],s=a[1];return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(g,{lastCharactersPage:t,activePage:"characters"}),Object(u.jsx)(B,{setLastPage:s})]})},Y=function(){return Object(u.jsx)("div",{className:o.a.App,children:Object(u.jsx)(l.a,{basename:"/test-frontend-hv",children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",component:f}),Object(u.jsx)(d.a,{path:"/characters",component:Q})]})})})},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,49)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,s=a.getLCP,r=a.getTTFB;t(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(Y,{})}),document.getElementById("root")),U(console.log)},9:function(e,a,t){e.exports={ellipsis:"CharacterComponent_ellipsis__3kCtY",wrapper:"CharacterComponent_wrapper__230ul",header:"CharacterComponent_header__6Ci5F","personal-info":"CharacterComponent_personal-info__1LbvX",name:"CharacterComponent_name__21aIu",location:"CharacterComponent_location__1H3PO",tags:"CharacterComponent_tags__1OEDG",date:"CharacterComponent_date__1Elkf"}}},[[48,1,2]]]);
//# sourceMappingURL=main.000e09ac.chunk.js.map